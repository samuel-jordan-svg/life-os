<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sam's Life OS</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{
--bg:#0d0d12;--card:#1a1a24;--purple:#8b5cf6;--cyan:#06b6d4;--green:#10b981;--orange:#f59e0b;--red:#ef4444;
--text:#fff;--text2:#9ca3af;--border:rgba(255,255,255,0.08)
}
body{font-family:'Inter',sans-serif;background:var(--bg);color:var(--text);min-height:100vh;padding-bottom:100px}
.nav{position:fixed;bottom:0;left:0;right:0;background:linear-gradient(180deg,#13131a,#0d0d12);border-top:1px solid var(--border);display:flex;justify-content:space-around;padding:12px 8px 25px;z-index:100;backdrop-filter:blur(20px)}
.nav-item{display:flex;flex-direction:column;align-items:center;gap:4px;color:var(--text2);font-size:10px;cursor:pointer}
.nav-item.active{color:var(--purple)}
.nav-item i{font-size:20px}
.page{display:none;padding-bottom:80px}
.page.active{display:block}
.c{max-width:420px;margin:0 auto;padding:20px}
.h{background:linear-gradient(135deg,rgba(139,92,246,0.25),rgba(6,182,212,0.15));border-radius:28px;padding:32px 24px;margin-bottom:20px;border:1px solid var(--border)}
.g{font-size:14px;color:var(--text2);font-weight:500}
.t{font-size:48px;font-weight:700;color:#fff;margin-top:8px}
.d{font-size:13px;color:var(--text2);margin-top:4px}
.s{display:flex;justify-content:space-between;margin-top:24px}
.si{text-align:center;flex:1}
.si:not(:last-child){border-right:1px solid var(--border)}
.sv{font-size:20px;font-weight:700}
.sl{font-size:9px;color:var(--text2);text-transform:uppercase;margin-top:4px}
.sv.green{color:var(--green)}
.sv.cyan{color:var(--cyan)}
.sec{background:linear-gradient(145deg,var(--card),#13131a);border-radius:24px;padding:24px;margin-bottom:18px;border:1px solid var(--border)}
.sh{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}
.slft{display:flex;align-items:center;gap:14px}
.si2{width:46px;height:46px;border-radius:14px;display:flex;align-items:center;justify-content:center;font-size:20px;background:linear-gradient(135deg,rgba(139,92,246,0.2),rgba(6,182,212,0.15));border:1px solid rgba(139,92,246,0.2)}
.st{font-size:16px;font-weight:600}
.tag{display:inline-block;padding:3px 8px;background:rgba(139,92,246,0.15);color:var(--purple);border-radius:6px;font-size:9px;font-weight:600;text-transform:uppercase}
.tag.green{background:rgba(16,185,129,0.15);color:var(--green)}
.tag.orange{background:rgba(245,158,11,0.15);color:var(--orange)}
.tag.cyan{background:rgba(6,182,212,0.15);color:var(--cyan)}
.tag.red{background:rgba(239,68,68,0.15);color:var(--red)}
.hi{display:flex;align-items:center;gap:14px;padding:14px;background:rgba(255,255,255,0.03);border-radius:14px;margin-bottom:10px;cursor:pointer}
.hc{width:28px;height:28px;border-radius:8px;border:2px solid var(--orange);display:flex;align-items:center;justify-content:center;flex-shrink:0;background:transparent}
.hc.checked{background:var(--green);border-color:var(--green)}
.hc.evening{border-color:var(--cyan)}
.hc.evening.checked{background:linear-gradient(135deg,var(--cyan),#22d3ee);border-color:var(--cyan)}
.hc.checked::after{content:'‚úì';color:white;font-size:14px;font-weight:bold}
.hn{flex:1}
.hn2{font-size:13px;font-weight:500}
.hd{font-size:11px;color:var(--text2);margin-top:2px}
@media(max-width:767px){.c{padding:16px}.h{padding:24px 20px;border-radius:20px}.t{font-size:40px}}
</style>
</head>
<body>

<!-- Dashboard -->
<div id="page-dashboard" class="page active">
<div class="c">
<div class="h">
<div class="g">SAM'S LIFE OS</div>
<div class="t" id="clock">--:--</div>
<div class="d" id="dayInfo">Loading...</div>
<div class="s">
<div class="si"><div class="sv" id="yearPct">--%</div><div class="sl">YEAR</div></div>
<div class="si"><div class="sv cyan" id="daysTo">--</div><div class="sl">DAYS</div></div>
<div class="si"><div class="sv green" id="debt">¬£15.4k</div><div class="sl">DEBT</div></div>
</div>
</div>

<div class="sec">
<div class="sh">
<div class="slft"><div class="si2" style="background:linear-gradient(135deg,rgba(245,158,11,0.4),rgba(251,191,36,0.3))">üåÖ</div><div class="st">Morning</div></div>
<span class="tag orange" id="mornProg">0/6</span>
</div>
<div id="mornHabits"></div>
</div>

<div class="sec">
<div class="sh">
<div class="slft"><div class="si2" style="background:linear-gradient(135deg,rgba(6,182,212,0.4),rgba(34,211,238,0.3))">üåô</div><div class="st">Evening</div></div>
<span class="tag cyan" id="eveProg">0/5</span>
</div>
<div id="eveHabits"></div>
</div>
</div>
</div>

<!-- Money -->
<div id="page-money" class="page">
<div class="c">
<div class="h">
<div class="g">FINANCIAL</div>
<div class="t" id="clockM">--:--</div>
<div class="d" id="dayInfoM">Loading...</div>
</div>

<div class="sec">
<div class="sh"><div class="slft"><div class="si2">üìä</div><div class="st">Summary</div></div></div>
<div class="s" style="margin-bottom:0">
<div class="si"><div class="sv green">¬£1,872</div><div class="sl">INCOME</div></div>
<div class="si"><div class="sv red">¬£639</div><div class="sl">FIXED</div></div>
<div class="si"><div class="sv orange" id="totDebt">¬£15,402</div><div class="sl">DEBT</div></div>
<div class="si"><div class="sv cyan">¬£985</div><div class="sl">LEFT</div></div>
</div>
</div>

<div class="sec">
<div class="sh"><div class="slft"><div class="si2">üí≥</div><div class="st">Debts</div></div><span class="tag" id="debtCount">6 debts</span></div>
<div id="debtsList"></div>
</div>

<div class="sec">
<div class="sh"><div class="slft"><div class="si2">‚ö°</div><div class="st">Quick Pay</div></div></div>
<div style="display:flex;gap:10px;margin-bottom:12px">
<input type="number" id="payAmt" placeholder="Amount" style="flex:1;padding:12px;background:rgba(255,255,255,0.05);border:1px solid var(--border);border-radius:10px;color:#fff">
<select id="payDebt" style="flex:1;padding:12px;background:rgba(255,255,255,0.05);border:1px solid var(--border);border-radius:10px;color:#fff">
<option value="">Select</option>
</select>
</div>
<button onclick="quickPay()" style="width:100%;padding:14px;background:linear-gradient(135deg,var(--purple),var(--cyan));border:none;border-radius:10px;color:#fff;font-size:14px;font-weight:600;cursor:pointer">Pay Now</button>
</div>

<div class="sec">
<div class="sh"><div class="slft"><div class="si2">üìú</div><div class="st">History</div></div></div>
<div id="hist" style="font-size:12px;color:var(--text2)">No payments</div>
</div>
</div>
</div>

<!-- Health -->
<div id="page-health" class="page">
<div class="c">
<div class="h">
<div class="g">HEALTH</div>
<div class="t" id="clockH">--:--</div>
<div class="d" id="dayInfoH">Loading...</div>
</div>
<div class="sec"><div class="st">üèÉ Running 500km</div><div style="margin:12px 0;color:var(--text2)">0 / 500km</div>
<div style="height:8px;background:rgba(255,255,255,0.08);border-radius:6px"><div style="height:100%;width:0%;background:linear-gradient(90deg,var(--purple),var(--cyan));border-radius:6px"></div></div></div>
<div class="sec"><div class="st">üìö Reading 24 books</div><div style="margin:12px 0;color:var(--text2)">0 / 24</div>
<div style="height:8px;background:rgba(255,255,255,0.08);border-radius:6px"><div style="height:100%;width:0%;background:var(--orange);border-radius:6px"></div></div></div>
</div>
</div>

<!-- Tasks -->
<div id="page-tasks" class="page">
<div class="c">
<div class="h"><div class="g">TASKS</div><div class="t" id="clockT">--:--</div><div class="d" id="dayInfoT">Loading...</div></div>
<div class="sec"><div class="st">üìã Todoist</div><p style="color:var(--text2);margin-top:12px">Connect Todoist</p></div>
</div>
</div>

<!-- Settings -->
<div id="page-settings" class="page">
<div class="c">
<div class="h"><div class="g">SETTINGS</div><div class="t" id="clockS">--:--</div><div class="d" id="dayInfoS">Loading...</div></div>
<div class="sec"><div class="st">‚öôÔ∏è Settings</div><p style="color:var(--text2);margin-top:12px">Configure preferences</p></div>
</div>
</div>

<!-- Nav -->
<nav class="nav">
<div class="nav-item active" onclick="go('dashboard',this)"><i class="fas fa-home"></i><span>Home</span></div>
<div class="nav-item" onclick="go('money',this)"><i class="fas fa-pound-sign"></i><span>Money</span></div>
<div class="nav-item" onclick="go('health',this)"><i class="fas fa-heart"></i><span>Health</span></div>
<div class="nav-item" onclick="go('tasks',this)"><i class="fas fa-tasks"></i><span>Tasks</span></div>
<div class="nav-item" onclick="go('settings',this)"><i class="fas fa-cog"></i><span>Settings</span></div>
</nav>

<script>
// Data
const MORN=[{n:'‚è∞ Wake 6am',d:'Wake at 6am'},{n:'üå≥ Outside 10min',d:'Stand outside'},{n:'üíß Water',d:'Big glass'},{n:'üßò Stretch',d:'Stretching'},{n:'‚òï Coffee',d:'1hr after wake'},{n:'‚úçÔ∏è Write',d:'Win+Thing+Obstacle'}];
const EVE=[{n:'üçΩÔ∏è Meal 4hrs bed',d:'Final meal'},{n:'üìµ Screens off',d:'60min before bed'},{n:'üìñ Read',d:'10min read'},{n:'‚òï No caffeine',d:'Avoid stimulants'},{n:'üí° Red lights',d:'Amber lights'}];
let debts=[
{id:'argos',n:'üè™ Argos',b:320,min:51.10,apr:0,end:'2026-06-14',h:[]},
{id:'monzo',n:'üè¶ Monzo',b:40,min:40,apr:0,end:null,h:[]},
{id:'virgin',n:'üí≥ Virgin',b:2555.23,min:51.10,apr:26.49,end:'2027-09-16',h:[]},
{id:'lendable',n:'üè¶ Lendable',b:11876.71,min:264.25,apr:15.8,end:null,h:[]},
{id:'kia',n:'üöó Kia',b:0,min:198.29,apr:11.9,end:null,paid:true,h:[]},
{id:'zopa',n:'üí≥ Zopa',b:0,min:0,apr:34.4,end:null,paid:true,h:[]}
];

// Init
loadData();
renderHabits();
renderDebts();

function go(p,el){
  document.querySelectorAll('.page').forEach(x=>x.classList.remove('active'));
  document.getElementById('page-'+p).classList.add('active');
  document.querySelectorAll('.nav-item').forEach(x=>x.classList.remove('active'));
  el.classList.add('active');
  updateClocks();
}

function renderHabits(){
  let mc=0,ec=0;
  let ms=JSON.parse(localStorage.getItem('morn')||'{}'),es=JSON.parse(localStorage.getItem('eve')||'{}');
  document.getElementById('mornHabits').innerHTML=MORN.map((x,i)=>{
    let c=ms[i]||false;if(c)mc++;
    return '<div class="hi" onclick="toggleM('+i+',this)"><div class="hc '+(c?'checked':'')+'"></div><div class="hn"><div class="hn2">'+x.n+'</div><div class="hd">'+x.d+'</div></div></div>';
  }).join('');
  document.getElementById('eveHabits').innerHTML=EVE.map((x,i)=>{
    let c=es[i]||false;if(c)ec++;
    return '<div class="hi" onclick="toggleE('+i+',this)"><div class="hc evening '+(c?'checked':'')+'"></div><div class="hn"><div class="hn2">'+x.n+'</div><div class="hd">'+x.d+'</div></div></div>';
  }).join('');
  document.getElementById('mornProg').textContent=mc+'/6';
  document.getElementById('eveProg').textContent=ec+'/5';
}

function toggleM(i,el){
  let s=JSON.parse(localStorage.getItem('morn')||'{}');
  s[i]=!s[i];
  localStorage.setItem('morn',JSON.stringify(s));
  renderHabits();
}

function toggleE(i,el){
  let s=JSON.parse(localStorage.getItem('eve')||'{}');
  s[i]=!s[i];
  localStorage.setItem('eve',JSON.stringify(s));
  renderHabits();
}

function loadData(){
  let sd=localStorage.getItem('debts');
  if(sd)debts=JSON.parse(sd);
  updateDebtTotals();
}

function saveData(){
  localStorage.setItem('debts',JSON.stringify(debts));
  updateDebtTotals();
}

function updateDebtTotals(){
  let tot=debts.filter(d=>!d.paid).reduce((a,b)=>a+b.b,0);
  document.getElementById('totDebt').textContent='¬£'+tot.toLocaleString();
  document.getElementById('debt').textContent=tot<10000?'¬£'+(tot/1000).toFixed(1)+'k':'¬£'+(tot/1000).toFixed(1)+'k';
  document.getElementById('debtCount').textContent=debts.filter(d=>!d.paid).length+' debts';
}

function renderDebts(){
  let d=document.getElementById('debtsList');
  let s=document.getElementById('payDebt');
  d.innerHTML=debts.sort((a,b)=>(a.paid?1:0)-(b.paid?1:0)).map(x=>{
    let p=x.paid?'opacity:0.6':'';
    let bc=x.paid?'color:var(--green)':'color:var(--red)';
    let txt=x.paid?'PAID':'¬£'+x.b.toLocaleString();
    let end=x.end?'0% ends '+x.end:x.apr+'% APR';
    let actions=x.paid?'':'<div style="display:flex;gap:8px;margin-top:12px"><button onclick="payMin(\''+x.id+'\')" style="flex:1;padding:10px;background:linear-gradient(135deg,var(--purple),var(--cyan));border:none;border-radius:8px;color:#fff;cursor:pointer">Pay Min</button><button onclick="payCust(\''+x.id+'\')" style="flex:1;padding:10px;background:rgba(255,255,255,0.05);border:1px solid var(--border);border-radius:8px;color:var(--text2);cursor:pointer">Custom</button></div>';
    let last=x.h.length>0?'<div style="font-size:11px;color:var(--text2);margin-top:8px">Last: ¬£'+x.h[x.h.length-1].a+' on '+x.h[x.h.length-1].d+'</div>':'';
    return '<div class="sec" style="'+p+';cursor:pointer" onclick="showOpts(\''+x.id+'\')"><div style="display:flex;justify-content:space-between"><div><div style="font-weight:600">'+x.n+'</div><div style="font-size:11px;color:var(--text2)">'+end+' ‚Ä¢ Min: ¬£'+x.min+'</div></div><div style="font-size:20px;font-weight:700;'+bc+'">'+txt+'</div></div>'+actions+last+'</div>';
  }).join('');
  s.innerHTML='<option value="">Select</option>'+debts.filter(d=>!d.paid).map(x=>'<option value="'+x.id+'">'+x.n+' (¬£'+x.b+')</option>').join('');
}

function payMin(id){
  let d=debts.find(x=>x.id===id);
  if(!d||d.paid)return;
  let a=d.b<d.min?d.b:d.min;
  d.b-=a;
  d.h.push({a:a,d:new Date().toLocaleDateString('en-GB')});
  if(d.b<0.01){d.b=0;d.paid=true;}
  saveData();
  renderDebts();
  renderHist();
  alert('Paid ¬£'+a+' to '+d.n);
}

function payCust(id){
  let d=debts.find(x=>x.id===id);
  if(!d||d.paid)return;
  let a=prompt('Amount for '+d.n+' (Balance: ¬£'+d.b+')');
  if(!a||parseFloat(a)<=0)return;
  a=parseFloat(a);
  if(a>d.b)a=d.b;
  d.b-=a;
  d.h.push({a:a,d:new Date().toLocaleDateString('en-GB')});
  if(d.b<0.01){d.b=0;d.paid=true;}
  saveData();
  renderDebts();
  renderHist();
  alert('Paid ¬£'+a+' to '+d.n);
}

function showOpts(id){
  let d=debts.find(x=>x.id===id);
  if(!d||d.paid)return;
  if(confirm('Pay minimum (¬£'+d.min+') to '+d.n+'? OK for min, Cancel for custom'))payMin(id);
  else payCust(id);
}

function quickPay(){
  let a=parseFloat(document.getElementById('payAmt').value);
  let id=document.getElementById('payDebt').value;
  if(!id||!a||a<=0)return alert('Select debt and amount');
  let d=debts.find(x=>x.id===id);
  if(!d||d.paid)return;
  if(a>d.b)a=d.b;
  d.b-=a;
  d.h.push({a:a,d:new Date().toLocaleDateString('en-GB')});
  if(d.b<0.01){d.b=0;d.paid=true;}
  saveData();
  renderDebts();
  renderHist();
  document.getElementById('payAmt').value='';
  alert('Paid ¬£'+a);
}

function renderHist(){
  let all=[];
  debts.forEach(d=>d.h.forEach(h=>all.push({n:d.n,a:h.a,d:h.d})));
  all.sort((a,b)=>new Date(b.d)-new Date(a.d));
  document.getElementById('hist').innerHTML=all.length?all.slice(0,5).map(x=>'<div style="display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px solid var(--border)"><span>'+x.n+'</span><span><span style="color:var(--green)">-¬£'+x.a+'</span> <span style="color:var(--text2)">'+x.d+'</span></span></div>').join(''):'No payments';
}

function updateClocks(){
  let n=new Date(),t=n.toLocaleTimeString('en-GB',{hour:'2-digit',minute:'2-digit'}),d=n.toLocaleDateString('en-GB',{weekday:'long',day:'numeric',month:'long'});
  ['clock','clockM','clockH','clockT','clockS'].forEach(x=>{let e=document.getElementById(x);if(e)e.textContent=t});
  ['dayInfo','dayInfoM','dayInfoH','dayInfoT','dayInfoS'].forEach(x=>{let e=document.getElementById(x);if(e)e.textContent=d});
  let dn=n.getDate(),td=(n.getFullYear()%4===0)?366:365;
  document.getElementById('yearPct').textContent=Math.round((dn/td)*100)+'%';
  let m2=new Date('2026-03-02');
  document.getElementById('daysTo').textContent=Math.ceil((m2-n)/(1000*60*60*24));
}

setInterval(updateClocks,1000);
updateClocks();
renderHist();
</script>
</body>
</html>
